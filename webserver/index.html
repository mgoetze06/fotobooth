<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Fotobox</title>
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
  <style>
    .container{
        display: flex;
        height: 300px;
        flex-direction: row;
        justify-content: space-evenly;
        align-content: center;
        flex-wrap: wrap;
        flex-grow: 4;
        background-color: bisque;
    }

    .item{
        height: 95%;
        min-width: 200px;
        background-color: lightgreen;
    }
  </style>
    <script>
        let colorPicker;
        const defaultColor = "{{default_color}}";

        window.addEventListener("load", startup, false);

        function startup() {
        colorPicker = document.querySelector("#color-picker");
        colorPicker.value = defaultColor;
        colorPicker.addEventListener("input", updateFirst, false);
        colorPicker.addEventListener("change", updateAll, false);
        colorPicker.select();
        const p = document.querySelector("body");
            if (p) {
                p.style.background = "{{default_color}}";
            }
        }
        function updateFirst(event) {
            const p = document.querySelector("body");
            if (p) {
                p.style.background = event.target.value;
            }
        }

        function updateAll(event) {
            //document.querySelectorAll("p").forEach((p) => {
            //    p.style.color = event.target.value;
            //});
        }
        if ( window.history.replaceState ) {
            window.history.replaceState( null, null, window.location.href );
        }



    </script>
    </head>
<body>
    <div class="container">
    <div class="item">1</div>
    <div class="item">2</div>
    <div class="item">3</div>
    <div class="item">4</div>
    <div class="item">1</div>
    <div class="item">2</div>
    <div class="item">3</div>
    <div class="item">4</div>
    </div>
    <div style="width: 90%; margin: auto;">
<form method="post" >
    <h1 style="text-align: center;">FOTOS: {{total_images}}</h1>
    <label style="text-align: center;" for="color-picker">Farbe ausw√§hlen:</label>
    <input style="width: 100%; height: 80vh;" type="color" id="color-picker" name="color-picker" onchange="this.form.submit()"/>
    <input style="visibility: hidden;" type="submit" value="Submit">
  </form> 
</div>
</body>
</html>
